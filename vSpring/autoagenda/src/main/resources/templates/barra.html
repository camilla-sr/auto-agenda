<head>
	<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="/fontawesome/css/all.min.css">
	<link rel="stylesheet" href="/css/style1.css">
	<link rel="icon" href="favicon.ico" type="image/x-icon">
	<script src="/js/sweetalert2.all.min.js"></script>
</head>

<div th:fragment="barra">
	<header class="header">
		<div class="container">
			<div class="logo">
				<a href="/" class="logo-link">
					<h1><span class="logo-highlight">Centro Automotivo</span> JJ</h1>
				</a>
			</div>

			<!-- Botão do menu hambúrguer (visível apenas em mobile) -->
			<button class="hamburger-menu" id="hamburger-menu" aria-label="Menu">
				<span class="hamburger-line"></span>
				<span class="hamburger-line"></span>
				<span class="hamburger-line"></span>
			</button>

			<nav class="nav-menu" id="nav-menu">
				<!-- <div class="nav-item">
	          		<a href="/" class="nav-link"><i class="fas fa-tachometer-alt"></i>Dashboard</a>
	        	</div> -->
				<div class="nav-item">
					<a href="/agendamentos" class="nav-link"><i class="fas fa-calendar-check"></i>Agendamentos</a>
				</div>
				<div class="nav-item">
					<a href="/servicos" class="nav-link"><i class="fas fa-tools"></i>Serviços</a>
				</div>
				<div class="nav-item">
					<a href="/produtos" class="nav-link"><i class="fas fa-box-open"></i>Produtos</a>
				</div>
				<div class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
						<i class="fas fa-user"></i>Usuário
					</a>
					<ul class="dropdown-menu">
						<li th:if="${usuarioLogado != null and usuarioLogado.acesso == 'admin'}">
							<a class="dropdown-item" href="/funcionarios">
								<i class="fas fa-address-card"></i>Funcionários
							</a>
						</li>
						<li>
							<a class="dropdown-item" href="/perfil">
								<i class="fas fa-user-edit"></i>Perfil
							</a>
						</li>
						<li>
							<hr class="dropdown-divider">
						</li>
						<li>
							<a class="dropdown-item" href="/logout">
								<i class="fas fa-sign-out-alt"></i>Sair
							</a>
						</li>
					</ul>
				</div>
			</nav>
		</div>
	</header>

	<!-- Script para o menu hambúrguer -->
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const hamburgerMenu = document.getElementById('hamburger-menu');
			const navMenu = document.getElementById('nav-menu');

			if (hamburgerMenu && navMenu) {
				hamburgerMenu.addEventListener('click', function() {
					navMenu.classList.toggle('active');
					hamburgerMenu.classList.toggle('active');
				});

				// Fecha o menu ao clicar em um link
				const navLinks = navMenu.querySelectorAll('.nav-link');
				navLinks.forEach(link => {
					link.addEventListener('click', function() {
						navMenu.classList.remove('active');
						hamburgerMenu.classList.remove('active');
					});
				});

				// Fecha o menu ao clicar fora dele
				document.addEventListener('click', function(event) {
					if (!navMenu.contains(event.target) && !hamburgerMenu.contains(event.target)) {
						navMenu.classList.remove('active');
						hamburgerMenu.classList.remove('active');
					}
				});
			}
		});
	</script>
</div>

</html>